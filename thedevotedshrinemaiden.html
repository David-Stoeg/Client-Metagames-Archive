<!DOCTYPE html>
<html lang="en-us" style="height: 100%; width: 100%;">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>The Devoted Shrine Maiden</title>
  <style>    
    :root {
      --ratio: calc(636 / 1055);
    }

    html, body {
      height: 100%;
      width: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: #231F20;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    /* Fixed-size container that preserves your aspect ratio */
    #unity-wrapper {
      width: 100vw;
      max-height: 100vh;
      max-width: calc(100vh / var(--ratio));
      background: #231F20;
      position: relative;
    }
    /* Canvas fills the wrapper exactly */
    #unity-canvas {
      width: 100%;
      height: 100%;
      background: #231F20;
    }
  </style>
</head>

<body>
  <!-- Wrap the canvas in a container that defines the aspect ratio -->
  <div id="unity-wrapper">
    <canvas id="unity-canvas" width="1055" height="636" tabindex="-1"></canvas>
  </div>

  <!-- Unity Loader Script -->
  <script src="./SpiritBlossomBeyond/Comic/WebGLBuild/Build/WebGLBuild.loader.js"></script>
  <script>
    createUnityInstance(document.querySelector("#unity-canvas"), {
      dataUrl: "https://assetcdn.rgpub.io/public/live/bundle-offload/09648726-b12b-45db-94b8-2af261880ea4/6848bdd3e2105b0008f2943a/Comic/WebGLBuild/Build/WebGLBuild.data.gz",
      frameworkUrl: "https://assetcdn.rgpub.io/public/live/bundle-offload/09648726-b12b-45db-94b8-2af261880ea4/6848bdd3e2105b0008f2943a/Comic/WebGLBuild/Build/WebGLBuild.framework.js.gz",
      codeUrl: "https://assetcdn.rgpub.io/public/live/bundle-offload/09648726-b12b-45db-94b8-2af261880ea4/6848bdd3e2105b0008f2943a/Comic/WebGLBuild/Build/WebGLBuild.wasm.gz",
      streamingAssetsUrl: "https://assetcdn.rgpub.io/public/live/bundle-offload/09648726-b12b-45db-94b8-2af261880ea4/6848bdd3e2105b0008f2943a/Comic/WebGLBuild/StreamingAssets",
      companyName: "",
      productName: "",
      productVersion: "0.1"
    }).then(function (unityInstance) {
      var originalSendMessage = unityInstance.SendMessage;
      
      // Send telemetry messages
      unityInstance.SendMessage("ClientBridge", "SetTelemetryUrl", "");
      unityInstance.SendMessage("MotionComic","StartChapter",2);
    }).catch(function (message) {
      console.error(message);
    });
  </script>
</body>
</html>
